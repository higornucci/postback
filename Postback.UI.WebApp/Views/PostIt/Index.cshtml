@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="master">
    <div class="topoMobile">

        <img src="@Url.Content("~/Content/img/logo-postback.jpg")" alt="PostBack">
        <div class="adicionar"></div>

    </div>

    <h1>title</h1>

    <div class="conteudoMobile">
        <form id="frmPostIt" action="@Url.Action("Post", "PostIt")" method="POST">
            <div class="styled-select">
                @Html.DropDownList("CategoriaId", ViewBag.Categorias as SelectList)
            </div>

            <input id="Conteudo" type="text" maxlength="90" name="Conteudo">
            <input id="TagNome" type="text" value="" name="TagNome">

            <input type="button" id="enviar" value="enviar" name="enviar" />
        </form>
    </div>

</div>

@section scripts
{
    <link href="@Url.Content("~/Content/themes/base/minified/jquery-ui.min.css")" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/jquery.signalR-2.0.2.js"></script>
    <script src="~/Scripts/jquery-ui-1.10.4.min.js"></script>
    <script src="~/signalr/hubs"></script>

    <script>

        $(function () {

            $("#TagNome").autocomplete({
                source: "@Url.Action("SugerirTags", "PostIt")",
                minLength: 2,
            });

            var hub = $.connection.postItHub;

            $.connection.hub.start().done(function () {

                $("#enviar").click(function () {

                    var frm = $("#frmPostIt");
                    var dados = frm.serialize();
                    $.post("@Url.Action("Post", "PostIt")", dados, function () {

                        hub.server.enviarNovoPostIt($("#Conteudo").val(), $("#TagNome").val(), $("#CategoriaId").val());
                        frm[0].reset();

                    }); // post

                }); // enviar

            }); // connection

        }); // $

    </script>
}
